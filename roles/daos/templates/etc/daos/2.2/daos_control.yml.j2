#
# {{ ansible_managed }}
#
# DAOS manager (dmg) configuration file.
#

# NOTE: Changing the name is not supported yet, it must be daos_server
#
# default: daos_server
#name: daos_server

# Default destination port to use when connecting to hosts in the hostlist.
# default: 10001
port: {{ daos_port }}

# hostlist, a comma separated list of addresses (hostnames or IPv4 addresses).
# hostlist: ['localhost']
hostlist: {{ daos_access_points | to_json }}

## Transport Credentials Specifying certificates to secure communications
transport_config:
  allow_insecure: {{ daos_transport_config_allow_insecure | default(false) | bool | string | lower }}
{% if not daos_transport_config_allow_insecure | bool %}
  # Custom CA Root certificate for generated certs
  ca_cert: {{ daos_transport_config_ca_cert }}
  # Server certificate for use in TLS handshakes
  cert: {{ daos_transport_config_admin_cert }}
  # Key portion of Server Certificate
  key: {{ daos_transport_config_admin_key }}
{% endif %}
