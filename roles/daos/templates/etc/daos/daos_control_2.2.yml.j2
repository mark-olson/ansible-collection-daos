#
# {{ ansible_managed }}
#
# DAOS manager (dmg) configuration file.
#

# NOTE: Changing the name is not supported yet, it must be daos_server
#
# default: daos_server
#name: daos_server

# Default destination port to use when connecting to hosts in the hostlist.
# default: 10001
port: {{ daos_port }}

# Hostlist, a comma separated list of addresses (hostnames or IPv4 addresses).
# default: ['localhost']
hostlist: {{ daos_access_points | to_json }}

## Transport Credentials Specifying certificates to secure communications

transport_config:
  allow_insecure: {{ daos_transport_config_allow_insecure | default(false) | bool | string | lower }}
  {% if not daos_transport_config_allow_insecure | bool %}
    # Location where daos_server will look for Client certificates
    client_cert_dir: {{ daos_transport_config_client_cert_dir }}
    # Custom CA Root certificate for generated certs
    ca_cert: {{ daos_transport_config_ca_cert }}
    # Server certificate for use in TLS handshakes
    cert: {{ daos_cert_server_cert }}
    # Key portion of Server Certificate
    key: {{ daos_cert_server_key }}
  {% endif %}
